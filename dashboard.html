<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Dashboard</title>

        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
            crossorigin="anonymous"
        />

        <link rel="stylesheet" href="frontend/css/style.css" />
    </head>

    <body class="bg-light">
        <div id="navbar"></div>

        <div class="container" style="max-width: 1200px;">
            <!-- Error Alert -->
            <div id="errorAlert" class="alert alert-danger alert-dismissible fade show d-none mt-4" role="alert">
                <strong>Error:</strong> <span id="errorMessage"></span>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>

            <!-- Loading Spinner -->
            <div id="loadingSpinner" class="text-center py-5 my-5 d-none">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <p class="mt-3 text-muted">Loading dashboard...</p>
            </div>

            <div class="my-5" id="dashboardContent">
                <h1 class="display-6 fw-bold mb-4" id="dashboard-title">Dashboard</h1>

                <!-- Admin Stats Section (only shown for admins) -->
                <div class="card shadow-sm mb-4" id="admin-stats" style="display: none;">
                    <div class="card-body p-4">
                        <table class="table table-borderless mb-0">
                            <thead>
                                <tr class="text-muted">
                                    <th>Pending Requests</th>
                                    <th>Published</th>
                                    <th>Drafts</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="fs-3 fw-bold">
                                    <td>2</td>
                                    <td>1</td>
                                    <td>1</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Tab Navigation -->
                <div class="mb-4">
                    <div class="btn-group shadow-sm" id="button-nav" role="group">
                        <button class="btn btn-outline-primary" id="request-btn">Requests</button>
                        <button class="btn btn-outline-primary" id="published-btn">Published</button>
                        <button class="btn btn-outline-primary" id="drafts-btn">Drafts</button>
                    </div>
                </div>
            </div>

            <!-- REQUESTS Table -->
            <div class="card shadow-sm mb-4" id="request-table">
                <div class="card-body p-4">
                    <div class="table-responsive">
                        <table class="table table-striped mb-0">
                            <thead>
                                <tr>
                                    <th>ID #</th>
                                    <th>Name</th>
                                    <th>Submitted By</th>
                                    <th>Submitted</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="request-tbody">
                                <!-- Dynamically populated -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- PUBLISHED Table -->
            <div class="card shadow-sm mb-4" id="published-table">
                <div class="card-body p-4">
                    <div class="table-responsive">
                        <table class="table table-striped mb-0">
                            <thead>
                                <tr>
                                    <th>ID #</th>
                                    <th>Name</th>
                                    <th>Submitted By</th>
                                    <th>Submitted</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="published-tbody">
                                <!-- Dynamically populated -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- DRAFTS Table -->
            <div class="card shadow-sm mb-4" id="drafts-table">
                <div class="card-body p-4">
                    <div class="table-responsive">
                        <table class="table table-striped mb-0">
                            <thead>
                                <tr>
                                    <th>ID #</th>
                                    <th>Name</th>
                                    <th>Drafted By</th>
                                    <th>Drafted</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="drafts-tbody">
                                <!-- Dynamically populated -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </body>

    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"
    ></script>

    <script src="frontend/js/api.js"></script>
    <script src="frontend/js/navbar.js"></script>
    <script src="frontend/js/dashboard.js"></script>
</html>
